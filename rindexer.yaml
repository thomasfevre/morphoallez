name: morpho_blue_etl
description: Indexes key Morpho contracts for analytics.
project_type: no-code
config: {}
networks:
- name: ethereum
  chain_id: 1
  rpc: ${ETH_RPC_URL}
  reth: null
storage:
  postgres:
    enabled: true
native_transfers:
  enabled: false
contracts:
- name: Morpho_Blue
  details:
  - network: ethereum
    address: 0xbbbbbbbbbb9cc5e90e3b3af64bdaf62c37eeffcb
    start_block: '22896095'
    end_block: '23146025'
  abi: ./abis/Morpho_Blue.abi.json
  include_events:
    # Core user actions & value flow
    - Supply
    - Withdraw
    - Borrow
    - Repay
    - SupplyCollateral
    - WithdrawCollateral
    - Liquidate
    - FlashLoan
    # Market creation and state changes
    - CreateMarket
    - AccrueInterest
    - SetFee

- name: PublicAllocator
  details:
  - network: ethereum
    address: 0xfd32fa2ca22c76dd6e550706ad913fc6ce91c75d
    start_block: '22896095'
    end_block: '23146025'
  abi: ./abis/PublicAllocator.abi.json
  include_events:
    # Core reallocation events
    - PublicWithdrawal
    - PublicReallocateTo
    # Configuration and fee management
    - SetAdmin
    - SetFee
    - TransferFee
    - SetFlowCaps

- name: MetaMorpho_Steakhouse_WETH
  details:
  - network: ethereum
    address: 0xbeef050ecd6a16c4e7bffbb52ebba7846c4b8cd4
    start_block: '22896095'
    end_block: '23146025'
  abi: ./abis/MetaMorpho_Steakhouse_WETH.abi.json
  include_events:
    # User actions
    - Deposit
    - Withdraw
    # Vault operations 
    - AccrueInterest
    # New events for deeper analysis
    - ReallocateSupply
    - ReallocateWithdraw
    - SetCap
    - SetFee
    - Skim

- name: MetaMorpho_Steakhouse_USDC
  details:
  - network: ethereum
    address: 0xbeef01735c132ada46aa9aa4c54623caa92a64cb
    start_block: '22896095'
    end_block: '23146025'
  abi: ./abis/MetaMorpho_Steakhouse_USDC.abi.json
  include_events:
    # User actions 
    - Deposit
    - Withdraw
    # Vault operations 
    - AccrueInterest
    # New events for deeper analysis
    - ReallocateSupply
    - ReallocateWithdraw
    - SetCap
    - SetFee
    - Skim

- name: MetaMorphoV1_1Factory
  details:
  - network: ethereum
    address: 0x1897a8997241c1cd4bd0698647e4eb7213535c24
    start_block: '22896095'
    end_block: '23146025'
  abi: ./abis/MetaMorphoV1_1Factory.abi.json
  include_events:
  - CreateMetaMorpho
global:
  etherscan_api_key: 2XPWWZSD2247SQTAU4RS64HWGAP52AR52B
